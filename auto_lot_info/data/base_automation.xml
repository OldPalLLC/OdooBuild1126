<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="stock_production_lot_on_change_auto_lot_info" model="base.automation">
        <field name="name">stock.production.lot: produced form on change</field>
        <field name="model_id" ref="stock.model_stock_production_lot"/>
        <field name="trigger">on_change</field>
        <field name="active" eval="True"/>
        <field name="state">code</field>
        <field name="code">
for s in records:
    if s['produced_form']:
        s['thc_percent'] = s['produced_form']['thc_percent']
        s['cbd_percent'] = s['produced_form']['cbd_percent']
        s['lab_name'] = s['produced_form']['lab_name']
        s['test_results'] = s['produced_form']['test_results']
    else:
        s['thc_percent'] = 0.0
        s['cbd_percent'] = 0.0
        s['lab_name'] = False
        s['test_results'] = False
        </field>
    </record>
</odoo>